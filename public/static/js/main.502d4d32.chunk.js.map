{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/Forms/FormSignin.jsx","components/Views/SignIn.jsx","components/Forms/FormSignup.jsx","components/Views/Signup.jsx","components/Forms/FormDisplayTrip.jsx","utils.js","components/Forms/FormAddTrip.jsx","components/Views/AppMap.jsx","components/Views/Home.jsx","components/NotFound.jsx","components/ProtectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","console","log","data","message","apiHandler","signup","userInfo","post","then","res","catch","signin","logout","delete","isLoggedIn","get","getItems","updateUser","patch","getUserInfos","removeItem","tripId","updateItem","getUserItems","addItem","UserContext","React","createContext","UserProvider","state","user","isLoading","setUser","setState","removeUser","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","toggleFormDisplay","className","exact","to","Fragment","onClick","email","password","handleChange","event","target","key","name","handleSubmit","preventDefault","autoComplete","onSubmit","onChange","id","type","placeholder","SignIn","firstName","lastName","profileImg","multiple","Signup","FormDisplayTrip","showPopup","trips","setShowPopup","setTrips","viewport","map","trip","latitude","location","coordinates","longitude","_id","style","height","zoom","width","version","x","y","viewBox","d","closeButton","closeOnClick","dynamicPosition","onClose","anchor","src","image","alt","title","description","Date","startDate","toLocaleDateString","endDate","city","transportation","accomondation","buildFormData","formData","parentKey","File","append","Object","keys","forEach","FormAddTrip","useState","setError","useForm","register","a","locationDB","fd","FormData","htmlFor","required","ref","rows","AppMap","addNewTrip","setAddTrip","setViewport","getAllTrips","useEffect","mapStyle","onViewportChange","onDblClick","lngLat","selectedItem","items","NotFound","rest","App","displayForm","handleClose","path","render","historyProps","handleFormClose","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.502d4d32.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL + \"/api\",\n  withCredentials: true,\n});\n\nfunction errorHandler(error) {\n  if (error.response) {\n    console.log(error.response.data.message);\n    throw error.response.data;\n  }\n  throw error;\n}\n\nconst apiHandler = {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service.delete(\"/logout\").catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/current-user\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getItems() {\n    return service\n      .get(\"/trips\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service\n      .patch(\"/profile\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserInfos() {\n    return service\n      .get(\"/profile\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  removeItem(tripId) {\n    return service\n      .delete(`/trips/${tripId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateItem(tripId, data) {\n    return service\n      .patch(`/items/${tripId}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserItems() {\n    return service\n      .get(\"/profile/trips\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addItem(data) {\n    return service\n      .post(\"/new-trip\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\nexport default apiHandler;","import React from \"react\";\n\nexport const UserContext = React.createContext();\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// import { withUser } from \"../relative/path/to/this/file\"\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"./../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context, toggleFormDisplay } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\">\n      <NavLink exact to=\"/\">\n        <h3 className=\"logo\">Travel</h3>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <p onClick={toggleFormDisplay}>Add Item</p>\n            </li>\n            <li>\n              <p onClick={toggleFormDisplay}>List Items</p>\n            </li>\n            {/* <li>\n              <NavLink to=\"/profile\">\n                {context.user && context.user.name}\n              </NavLink>\n            </li> */}\n            <li>\n              <p onClick={handleLogout}>Logout</p>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\" className=\"navlink\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\" className=\"navlink\">Create account</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { withUser } from \"./../Auth/withUser\";\nimport apiHandler from \"./../../api/apiHandler\";\nimport \"./../../styles/SigninSignUp.css\";\n\nclass FormSignin extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        console.log(\"DATAAAAA\",data);\n        this.props.context.setUser(data); // update the context\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.props.context.isLoggedIn) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"wrapper\">\n        <header className=\"section header\">\n\n          <div className=\"header__text\">\n            <h1>sup.</h1>\n            <p>Sign in or create a new account.</p>\n          </div>\n        </header>\n\n        <div className=\"section sign-in\">\n          <form\n            autoComplete=\"off\"\n            className=\"form\"\n            onSubmit={this.handleSubmit}\n          >\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              className=\"input\"\n              id=\"email\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n            />\n            <input\n              onChange={this.handleChange}\n              value={this.state.password}\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              \n            />\n            <button className=\"btn-submit\">Sign In</button>\n            <Link to=\"/signup\" className=\"opposite-btn1\">Don't have an account?</Link>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(FormSignin);\n","import React, { Component } from 'react'\nimport FormSignin from \"./../Forms/FormSignin\"\n\nexport class SignIn extends Component {\n    render() {\n        return (\n            <div>\n                <FormSignin/>\n            </div>\n        )\n    }\n}\n\nexport default SignIn\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { withUser } from \"./../Auth/withUser\";\nimport apiHandler from \"./../../api/apiHandler\";\nimport \"./../../styles/SigninSignUp.css\";\n\nclass FormSignup extends Component {\n  state = {};\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.props.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.props.context.isLoggedIn) {\n      return <Redirect to=\"/signin\" />;\n    }\n\n    return (\n      <div className=\"wrapper\">\n        <header className=\"section header\">\n          <div className=\"header__text\">\n            <h1>sup.</h1>\n            <p>Create an Account</p>\n          </div>\n        </header>\n\n        <div className=\"section sign-up\">\n          <form\n            autoComplete=\"off\"\n            className=\"form\"\n            onSubmit={this.handleSubmit}\n          >\n            <input\n              onChange={this.handleChange}\n              value={this.state.firstName}\n              className=\"input\"\n              id=\"firstName\"\n              type=\"text\"\n              name=\"firstName\"\n              placeholder=\"First Name\"\n            />\n            <input\n              onChange={this.handleChange}\n              value={this.state.lastName}\n              className=\"input\"\n              id=\"lastName\"\n              type=\"text\"\n              name=\"lastName\"\n              placeholder=\"Last Name\"\n            />\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              className=\"input\"\n              id=\"email\"\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n            />\n            <input\n              onChange={this.handleChange}\n              value={this.state.password}\n              className=\"input\"\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              \n            />\n            {/* <div className=\"fileUpload\">\n            <div className=\"uploader\"> */}\n            {/* <p>Profile Image</p> */}\n            <input\n              onChange={this.handleChange}\n              value={this.state.profileImg}\n              className=\"input\"\n              id=\"profileImg\"\n              type=\"file\"\n              name=\"profileImg\"\n              placeholder=\"Profile Image\"\n              multiple\n            />\n            {/* </div>\n            <button className=\"uploadFiles\">Upload</button>\n            </div> */}\n            <button className=\"btn-submit\">Sign up</button>\n            <Link to=\"/signin\" className=\"opposite-btn1\">Already a Member?</Link>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(FormSignup);\n","import React from \"react\";\nimport FormSignup from \"./../Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import { Marker, Popup } from \"react-map-gl\";\nimport './../../styles/AppMap.css'\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nconst FormDisplayTrip = ({showPopup, trips, setTrips, setShowPopup, viewport}) => {\n\n        return (\n            <div>\n            {trips.map(trip => (\n                  <React.Fragment key={trip._id}>\n                    <Marker\n                      latitude={trip.location.coordinates[0]}\n                      longitude={trip.location.coordinates[1]}\n                    >\n                      <div\n                        onClick={() => setShowPopup({\n                          ...showPopup,\n                          [trip._id]: true,\n                        })}\n                      >\n                        <svg\n                          className=\"marker yellow\"\n                          style={{\n                            height: `${6 * viewport.zoom}px`,\n                            width: `${6 * viewport.zoom}px`,\n                          }}\n                          version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n                          <g>\n                            <g>\n                              <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035\n                                c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719\n                                c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\"/>\n                            </g>\n                          </g>\n                        </svg>\n                      </div>\n                    </Marker>\n                    {\n                      showPopup[trip._id] ? (\n                        <Popup\n                        latitude={trip.location.coordinates[0]}\n                        longitude={trip.location.coordinates[1]}\n                          closeButton={true}\n                          closeOnClick={false}\n                          dynamicPosition={true}\n                          onClose={() => setShowPopup({\n                            ...showPopup,\n                            [trip._id]: false,\n                          })}\n                          anchor=\"top\" >\n                          <div className=\"popup\">\n                            {/* READ ON FORM PLUS EDIT DELETE BUTTONS */}\n                            <img src={trip.image} alt=\"Trip\"/>\n                            <h2>{trip.title}</h2>\n                            <p>Description: {trip.description}</p>\n                            <small>Start: {new Date(trip.startDate).toLocaleDateString()}</small>\n                            <small>Start: {new Date(trip.endDate).toLocaleDateString()}</small>\n                            <h3>City: {trip.city}</h3>\n                            <p>Transportation: {trip.transportation}</p>\n                            <p>Accomondation: {trip.accomondation}</p>\n                            <Link to=\"/edit\">Edit</Link>\n                          </div>\n                        </Popup>\n                      ) : null\n                    }\n                  </React.Fragment>\n                ))\n              }\n              </div>\n        )\n}\n\nexport default FormDisplayTrip\n","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n    formData.append(parentKey, value);\n  }\n}\n","import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport apiHandler from \"./../../api/apiHandler\";\nimport { buildFormData } from \"./../../utils\";\n\nconst FormAddTrip = ({ location, onClose }) => {\n  const [error, setError] = useState(\"\");\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = async (data) => {\n    console.log(data.image[0]);\n\n    const locationDB = { coordinates: [location.latitude, location.longitude] };\n    data.location = locationDB;\n\n    try {\n      data.image = data.image[0];\n      console.log(data);\n      const fd = new FormData();\n      buildFormData(fd, data);\n      console.log(\"fomdata\", fd);\n\n      await apiHandler.addItem(fd);\n      onClose();\n    } catch (error) {\n      console.error(error);\n      setError(error.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"entry-form\">\n      {error ? <h3 className=\"error\">{error}</h3> : null}\n      <label htmlFor=\"title\">Title</label>\n      <input name=\"title\" type=\"text\" required ref={register} />\n      <label htmlFor=\"description\">Description</label>\n      <textarea\n        name=\"description\"\n        type=\"text\"\n        rows={3}\n        ref={register}\n      ></textarea>\n      <label htmlFor=\"image\">Image</label>\n      <input name=\"image\" type=\"file\" ref={register} />\n      <label htmlFor=\"accomondation\">Accomondation</label>\n      <input name=\"accomondation\" type=\"text\" required ref={register} />\n      <label htmlFor=\"transportation\">Transportation</label>\n      <input name=\"transportation\" type=\"text\" required ref={register} />\n      <label htmlFor=\"startDate\">Start Date</label>\n      <input name=\"startDate\" type=\"date\" required ref={register} />\n      <label htmlFor=\"endDate\">End Date</label>\n      <input name=\"endDate\" type=\"date\" required ref={register} />\n      <button>ADD</button>\n    </form>\n  );\n};\n\nexport default FormAddTrip;\n// <form\n//                 ref={this.formRef}\n//                 onSubmit={this.handleSubmit}\n//                 className=\"entry-form\"\n//               >\n//                 <label htmlFor=\"title\">Title</label>\n//                 <input\n//                   name=\"title\"\n//                   value={this.state.title}\n//                   onChange={this.handleChange}\n//                 />\n//                 <label htmlFor=\"description\">Description</label>\n//                 <input\n//                   name=\"description\"\n//                   value={this.state.description}\n//                   onChange={this.handleChange}\n//                 />\n//                 <label htmlFor=\"image\">Image</label>\n//                 <input name=\"image\" type=\"file\" />\n//                 <label htmlFor=\"startDate\">Start Date</label>\n//                 <input\n//                   name=\"startDate\"\n//                   type=\"date\"\n//                   value={this.state.startDate}\n//                   onChange={this.handleChange}\n//                 ></input>\n//                 <label htmlFor=\"endDate\">End Date</label>\n//                 <input\n//                   name=\"endDate\"\n//                   type=\"date\"\n//                   value={this.state.endDate}\n//                   onChange={this.handleChange}\n//                 />\n//                 <button>ADD\n//                 </button>\n//               </form>\n","import React, { Component } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport { useState, useEffect } from \"react\";\nimport apiHandler from \"./../../api/apiHandler\";\n// import Pin from \"./../../src/pin.png\";\nimport \"./../../styles/AppMap.css\";\nimport FormDisplayTrip from \"./../Forms/FormDisplayTrip\";\nimport FormAddTrip from \"./../Forms/FormAddTrip\";\n\nfunction AppMap() {\n  const [trips, setTrips] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  const [addNewTrip, setAddTrip] = useState(null);\n  const [viewport, setViewport] = React.useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 48.8566,\n    longitude: 2.3522,\n    zoom: 14,\n  });\n\n  const getAllTrips = async () => {\n    const trips = await apiHandler.getItems();\n    setTrips(trips);\n  };\n\n  useEffect(() => {\n    getAllTrips();\n  }, []);\n\n  const addMarkerPopUp = (event) => {\n    const [longitude, latitude] = event.lngLat;\n    console.log(\"EVEEEEEENT\", event);\n    // event.srcEvent.stopPropagation();\n    setAddTrip({\n      longitude,\n      latitude,\n    });\n  };\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      mapStyle=\"mapbox://styles/thecjreynolds/ck117fnjy0ff61cnsclwimyay\"\n      onViewportChange={setViewport}\n      onDblClick={addMarkerPopUp}\n    >\n      <FormDisplayTrip\n        showPopup={showPopup}\n        setShowPopup={setShowPopup}\n        trips={trips}\n        viewport={viewport}\n        setTrips={setTrips}\n      />\n      {\n        addNewTrip ? (\n          <>\n          <Marker\n            latitude={addNewTrip.latitude}\n            longitude={addNewTrip.longitude}\n          >\n            <div>\n              <svg\n                className=\"marker red\"\n                style={{\n                  height: `${6 * viewport.zoom}px`,\n                  width: `${6 * viewport.zoom}px`,\n                }}\n                version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n                <g>\n                  <g>\n                    <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035\n                      c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719\n                      c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\"/>\n                  </g>\n                </g>\n              </svg>\n            </div>\n          </Marker>\n          <Popup\n            latitude={addNewTrip.latitude}\n            longitude={addNewTrip.longitude}\n            closeButton={true}\n            closeOnClick={false}\n            dynamicPosition={true}\n            onClose={() => setAddTrip(null)}\n            anchor=\"top\" >\n            <div className=\"popup\">\n              <FormAddTrip onClose={() => {\n                setAddTrip(null);\n                getAllTrips();\n              }} location={addNewTrip} />\n            </div>\n          </Popup>\n          </>\n        ) : null\n      }\n    </ReactMapGL>\n  );\n}\n\nexport default AppMap;\n","import React from \"react\";\nimport apiHandler from \"./../../api/apiHandler\";\nimport { withUser } from \"./../Auth/withUser\";\n// import \"./../styles/Home.css\";\nimport AppMap from './AppMap'\nclass Home extends React.Component {\n\n  state = {\n    selectedItem: null,\n    items: [],\n  };\n\n  render() {\n    const { user } = this.props.context;\n\n    return (\n        <AppMap/>\n    )}\n}\n\nexport default withUser(Home);\n","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div className=\"NotFound\">\n      <h2>Oh oh, seems like the page you're looking for doesn't exist !</h2>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"./Auth/withUser\";\n\nconst ProtectedRoute = ({ context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import \"./App.css\";\nimport NavMain from \"./components/NavMain\";\nimport React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport SignIn from \"./components/Views/SignIn\"\nimport Signup from \"./components/Views/Signup\"\nimport Home from \"./components/Views/Home\"\nimport NotFound from \"./components/NotFound\"\nimport ProtectedRoute from \"./components/ProtectedRoute\";\n\nclass App extends React.Component {\n  state = {\n    displayForm: false,\n  };\n\n  toggleFormDisplay = () => {\n    this.setState({ displayForm: !this.state.displayForm });\n  };\n\n  handleClose = () => {\n    this.setState({ displayForm: false });\n  };\n\n  render() {\n    return (\n      <div >\n        <NavMain toggleFormDisplay={this.toggleFormDisplay} />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            render={(historyProps) => (\n              <Home\n                {...historyProps}\n                displayForm={this.state.displayForm}\n                handleFormClose={this.handleClose}\n              />\n            )}\n          />\n          {/* <ProtectedRoute\n            exact\n            path=\"/profile\"\n            render={(historyProps) => (\n              <Profile\n                {...historyProps}\n                displayForm={this.state.displayForm}\n                handleFormClose={this.handleClose}\n              />\n            )}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/profile/settings\"\n            component={FormProfile}\n          /> */}\n\n          {/* <Route exact path=\"/about\" component={About} /> */}\n          {/* <Route exact path=\"/\" render={(historyProps) => (\n              <Home  {...historyProps}\n              displayForm={this.state.displayForm}\n              handleFormClose={this.handleClose} />)} /> */}\n\n          <Route exact path=\"/signup\" component={Signup} />\n          <Route exact path=\"/signin\" component={SignIn} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}